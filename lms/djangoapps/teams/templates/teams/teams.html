## mako
<%! import json %>
<%!
from django.utils.translation import ugettext as _
from openedx.core.djangolib.js_utils import (
    escape_jsoon_for_js, escape_string_for_js
)
%>
<%namespace name='static' file='/static_content.html'/>
<%inherit file="/main.html" />

<%block name="bodyclass">view-teams view-in-course course js</%block>
<%block name="pagetitle">${_("Teams")}</%block>

<%block name="headextra">
<%static:css group='style-course-vendor'/>
<%static:css group='style-course'/>
<%include file="../discussion/_js_head_dependencies.html" />
</%block>

<%include file="/courseware/course_navigation.html" args="active_page='teams'" />

<div class="container">
    <div class="teams-wrapper">
        <section class="teams-content">
        </section>
    </div>
</div>

<%block name="js_extra">

<%include file="../discussion/_js_body_dependencies.html" />
<%static:js group='discussion'/>
<script type="text/javascript">
    RequireJS.define('DiscussionModuleView', [], function() {return window['DiscussionModuleView'];});
</script>

<%static:require_module module_name="teams/js/teams_tab_factory" class_name="TeamsTabFactory">
    TeamsTabFactory({
        courseID: '${unicode(course.id) | n,escape_string_for_js}',
        topics: ${topics | n,escape_jsoon_for_js},
        userInfo: ${user_info | n,escape_jsoon_for_js},
        topicUrl: '${topic_url | n,escape_string_for_js}',
        topicsUrl: '${topics_url | n,escape_string_for_js}',
        teamsUrl: '${teams_url | n,escape_string_for_js}',
        teamsDetailUrl: '${teams_detail_url | n,escape_string_for_js}',
        teamMembershipsUrl: '${team_memberships_url | n,escape_string_for_js}',
        teamMembershipDetailUrl: '${team_membership_detail_url | n,escape_string_for_js}',
        myTeamsUrl: '${my_teams_url | n,escape_string_for_js}',
        maxTeamSize: ${course.teams_max_size | n,escape_jsoon_for_js},
        languages: ${languages | n,escape_jsoon_for_js},
        countries: ${countries | n,escape_jsoon_for_js},
        teamsBaseUrl: '${teams_base_url | n,escape_string_for_js}'
    });
</%static:require_module>
</%block>

<%include file="../discussion/_underscore_templates.html" />
